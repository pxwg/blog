---
import { getCollection } from "astro:content";
import Layout from "$layouts/BlogPost.astro";
// @ts-ignore
import AboutContent from "../../../content/other/about.typ?html&body";
import { getGitModifiedDateByPath } from "../../utils/git";

export async function getStaticPaths() {
  return [
    { params: { lang: "en" } },
    { params: { lang: "zh" } }
  ];
}

const { lang } = Astro.params;
const date = new Date("April 25 2025");

const about_path = "./content/other/about.typ";
const modifiedDate = getGitModifiedDateByPath(about_path, {
  fallbackDate: date,
  debug: true
});


const languageConfig = {
  en: {
    htmlLang: "en",
    title: "About me",
    description: "Things about pxwg",
    tagListLang: undefined,
    modifiedDate: modifiedDate
  },
  zh: {
    htmlLang: "zh",
    title: "关于我",
    description: "关于pxwg",
    tagListLang: "zh",
    modifiedDate: modifiedDate
  }
};

const config = languageConfig[lang as keyof typeof languageConfig] || languageConfig.en;

---

<Layout
  id={false}
  title={config.title}
  description={config.description}
  date={date}
  updatedDate={config.modifiedDate}
>
  <AboutContent />
</Layout>
